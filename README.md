## Backend Trade-Portfolio tracking API
The aim of this project is to create an API which tracks the trades happening for every security.

## Tech stack
* Python 3.9.5
* Django 3.2.4
* Postgresql 13.3
* Virtualenv

## Implementation
The base url for this application
https://api-trade-test.herokuapp.com/

Purpose:
* this route uses GET method to retrive data regarding API Overview from server, This path only accepts GET request
----------------------------------------------------------------------------------------------------------------------------
The routes are as follows:
----------------------------------------------------------------------------------------------------------------------------
### https://api-trade-test.herokuapp.com/trade/
Purpose:
* this route uses GET method to retrive all trades from server, This path only accepts GET request

Example:
https://api-trade-test.herokuapp.com/trade/
----------------------------------------------------------------------------------------------------------------------------
### https://api-trade-test.herokuapp.com/trade/<int:pk>
Purpose:
* this route uses GET method to retrive specific trade from server, This path only accepts GET request

Example:
https://api-trade-test.herokuapp.com/trade/1
----------------------------------------------------------------------------------------------------------------------------
### https://api-trade-test.herokuapp.com/trade-add/
Purpose:
* this route uses POST method to send new data(JSON format) to server, This path only accepts GET request

Example:
https://api-trade-test.herokuapp.com/trade-add/


[ id Field can be skipped as it is autogenerated and assign to each trade by system]

```
JSON obj:
{
        "id":1,
        "name": "Wipro",
        "ticker": "WIPRO",
        "quantity": 15,
        "price": 50,
        "type": "buy"
}
```
------------------------------------------------------------------------------------------------------------------------------
### https://api-trade-test.herokuapp.com/trade-update/<int:pk>
Purpose:
* this route uses PUT method to send data(JSON format) to update previous data from server, This path only accepts PUT request,
* all fields can be changed except id which serves purpose of Primary key

Example:
https://api-trade-test.herokuapp.com/trade-update/1

```
JSON obj:
{
        "id":1,
        "name": "Wipro",
        "ticker": "WIPRO",
        "quantity": 15,
        "price": 50,
        "type": "buy"
}
```

------------------------------------------------------------------------------------------------------------------------------------

### `https://smallcase-app-1.herokuapp.com/trade-delete/<int:id>/`
Purpose: A trade of a security can be removed from the portfolio reverting the changes it had when it was added[DELETE].
* The DELETE method deletes that trade which has id as given id and reflects the changes in portfolio as well.

Example:
https://api-trade-test.herokuapp.com/trade-delete/1

------------------------------------------------------------------------------------------------------------------------------------

### `https://smallcase-app-1.herokuapp.com/portfolio` 
Purpose : Fetch portfolio which is an aggregate view of all securities in the portfolio with its final quantity and average buy price[GET].
* The GET method lists all the securities and average buy price along with shares count

Example:
https://api-trade-test.herokuapp.com/trade-portfolio/
------------------------------------------------------------------------------------------------------------------------------------

### `https://smallcase-app-1.herokuapp.com/returns`
Purpose: The cumulative returns is calculated as `SUM((CURRENT_PRICE[ticker] - AVERAGE_BUY_PRICE[ticker]) * CURRENT_QUANTITY[ticker])` and this sum is returned as response.
* The GET method fetches the total return value of the current portfolio.

Example:
https://api-trade-test.herokuapp.com/trade-returns/

-------------------------------------------------------------------------------------------------------------------------------------
